<!-- /***********************nav_map_amcl_Auto**********************************
*fun: 读取建图好的地图，开启amcl定位+自动巡逻
*author: Hahalim
*Time: 2023-7
*version: 1.0
*********************************************************/ -->
<launch>


    <!-- send_cmd_vel 与下位机通信-->
    <node pkg="serialport" type="send_cmd_vel" name="send_cmd_vel" output="screen" />
    

    <!-- 设置地图的配置文件 -->
    <!-- <arg name="map" default="map1224.yaml" /> -->
    <!-- <arg name="map" default="map109.yaml" />rmuc_map_draw -->

    <arg name="map" default="rmuc_map_draw.yaml" />
    <!-- <arg name="map" default="map1231.yaml" /> -->

    <!-- 运行地图服务器，并且加载设置的地图-->
    <node name="map_server" pkg="map_server" type="map_server" args="$(find rm_navigation)/map/$(arg map)"/>

    
    <!-- 启动AMCwL节点 -->
    <!-- <include file="$(find rm_navigation)/pc_launch/amcl.launch" />  -->
    
    <!-- 运行move_base节点 -->
    <!-- <include file="$(find rm_navigation)/pc_launch/move_base_TebPlanner.launch" /> -->
    <include file="$(find rm_navigation)/pc_launch/move_base_Teb01.launch" />
    <!-- <include file="$(find rm_navigation)/pc_launch/move_base03.launch" /> -->

    <!-- 启动move_base_node -->
    <node pkg="serialport" type="move_base_node" name="move_base_node" output="screen" />

    <!-- 启动robot_urdf -->
    <include file="$(find rm_navigation)/pc_launch/robot_urdf.launch" />
    <node pkg="rviz" type="rviz" name="rviz" args="-d $(find rm_navigation)/config/rviz/amcl.rviz" /> 
    
    <!-- 显示轨迹 -->
    <node pkg="serialport" type="showpath" name="showpath" output="screen" />
    
</launch>
